package DobuleAttackInit

import HuntressConstants
import DobuleAttack
import ClosureTimers

function dobuleAttackInit()
    let u = GetEventDamageSource()
    if u.getTypeId() == HUNTRESS_RIDER_ID and u.isAlive() and 4 < GetRandomInt(0, 99)
        u.addAbility(DOUBLE_ATTACK_ID)
        doAfter(0.12) ->
            u.removeAbility(DOUBLE_ATTACK_ID)

init
    DamageTriggerCreated.addCondition(Condition(() -> bd.addCondition(Condition(function dobuleAttackInit))))
